
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>最新 Java/Node.js/Spring/MySQL/数据库 技术博客 - 做最好的Java,Node.js,Bootstrap,DWZ,Git,GitHub,阿里云 技术交流开发博客</title>
<meta name="description" content="Java编程,Node.js Bootstrap Node Spring SpringMVC Struts1 Struts2 Webwork框架深入,Freemarker Velocity模板使用,XMLHTTP Ajax开发,Java Web开发,Java企业应用,Java设计模式,Java开源框架,Java应用服务器,Rich Client讨论,Ruby编程,Ruby DSL开发,Ruby on rails实践,JavaScript编程,敏捷软件开发XP TDD,软件配置管理,软件测试,项目管理UML,数据库,C#/.net C/C++ Erlang/FP PHP/Linux平台,精通Hibernate" />
<meta name="keywords"  content="Java编程 Node.js框架 Spring框架 Ajax技术 agile敏捷软件开发 ruby on rails实践 ITeye深度技术社区" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="http://anode.aliapp.com/favicon.png" />
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic" />
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Arizonia" />
<link rel="stylesheet" type="text/css" href="http://obullxl.github.io/public/css/bootstrap.css" media="screen" />
<link rel="stylesheet" type="text/css" href="http://obullxl.github.io/public/css/bootstrap-responsive.css" />
<link rel="stylesheet" type="text/css" href="http://obullxl.github.io/public/css/atom-front.css" />
<script type="text/javascript" charset="utf-8" src="http://obullxl.github.io/public/js/jquery-2.0.3.js"></script>
<script type="text/javascript" charset="utf-8" src="http://obullxl.github.io/public/js/bootstrap.js"></script>
<!--[if lt IE 9]>
	<script type="text/javascript" charset="utf-8" src="http://obullxl.github.io/public/js/html5shiv.js"></script>
<![endif]-->
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">Menu</a>
				<div class="nav-collapse">
					<ul class="nav">
						
							<li><a href="./index.html">首页</a></li>
						
						
						
							<li class="active"><a href="./index-blog.html">博客</a></li>
						
						
						
							<li><a href="./index-news.html">资讯</a></li>
						
						
						
							<li><a href="./index-album.html">图片</a></li>
						
					</ul>
					<ul class="nav pull-right">
						
							<li><a href="./index-about.html">关于</a></li>
						
					</ul>
				</div>
				<!--/.nav-collapse -->
			</div>
		</div>
	</div>
	<!-- /.navbar -->

<style type="text/css">
.radius-block:after {
	content: "发表评论";
}
</style>
<div class="blog">
	<div class="container">
		<div class="row">
			<div class="span8">
				<div class="entry-ads">
					<script type="text/javascript">
<!--
	google_ad_client = "ca-pub-2548953017344039";
	/* GitIO列表1-728W */
	google_ad_slot = "5847202679";
	google_ad_width = 728;
	google_ad_height = 90;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
				</div>
				<div class="entry">
					<h2>Android动画之Frame动画实战 - 老牛啊</h2>
					<p class="meta">
						<i class="icon-calendar"></i> 2013-09-05
						- <i class="icon-user"></i> 老牛啊
						
					</p>
					<p>Android动画分为Tween动画和Frame动画，Tween动画主要包括图片的放大缩小、旋转、透明度变化、移动等等操作；Frame动画则简单得多了，就是把一张张的图片连续播放产生动画效果。 本节主要介绍一下Frame动画，Tween动画会在后面的文章中介绍，敬请关注。 Frame动画主要是通过A</p>
					<p>
						<p>&nbsp;&nbsp;&nbsp; Android动画分为Tween动画和Frame动画，Tween动画主要包括图片的放大缩小、旋转、透明度变化、移动等等操作；Frame动画则简单得多了，就是把一张张的图片连续播放产生动画效果。</p><p>&nbsp;&nbsp;&nbsp; 本节主要介绍一下Frame动画，Tween动画会在后面的文章中介绍，敬请关注。</p><p>&nbsp;&nbsp;&nbsp; Frame动画主要是通过AnimationDrawable类来实现的，它有start()和stop()两个重要的方法来启动和停止动画。Frame动画一般通过XML文件配置，在工程的res/anim目录下创建一个XML配置文件，该配置文件有一个&lt;animation-list&gt;根元素和若干个&lt;item&gt;子元素。</p><p>&nbsp;&nbsp;&nbsp; 实现一个人跳舞的Frame动画，6张图片如下所示：</p><p style="text-align: center;"><img src="http://pic002.cnblogs.com/images/2011/198133/2011061021195326.png" /><img src="http://pic002.cnblogs.com/images/2011/198133/2011061021200360.png" /><img src="http://pic002.cnblogs.com/images/2011/198133/2011061021201389.png" /><img src="http://pic002.cnblogs.com/images/2011/198133/2011061021202348.png" /><img src="http://pic002.cnblogs.com/images/2011/198133/2011061021203295.png" /><img src="http://pic002.cnblogs.com/images/2011/198133/2011061021204117.png" /></p><p><br />1、把这6张图片放到res/drawable目录下，分别取名为：p01.png，p02.png，p03.png，p04.png，p05.png，p06.png。</p><p>2、在res/anim目录下创建一个XML配置文件，文件名为：dance.xml，文件内容：</p><p><div style="background-color: #F5F5F5;border: 1px solid #CCCCCC;padding:10px;"><div><span style="color: #0000ff;">&lt;?</span><span style="color: #ff00ff;">xml version="1.0" encoding="utf-8"</span><span style="color: #0000ff;">?&gt;</span><span style="color: #000000;"><br /></span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">animation-list </span><span style="color: #ff0000;">xmlns:apk</span><span style="color: #0000ff;">="http://schemas.android.com/apk/res/android"</span><span style="color: #ff0000;"> apk:oneshot</span><span style="color: #0000ff;">="false"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"><br />    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item </span><span style="color: #ff0000;">apk:drawable</span><span style="color: #0000ff;">="@drawable/p01"</span><span style="color: #ff0000;"> apk:duration</span><span style="color: #0000ff;">="500"</span><span style="color: #ff0000;"> </span><span style="color: #0000ff;">/&gt;</span><span style="color: #000000;"><br />    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item </span><span style="color: #ff0000;">apk:drawable</span><span style="color: #0000ff;">="@drawable/p02"</span><span style="color: #ff0000;"> apk:duration</span><span style="color: #0000ff;">="500"</span><span style="color: #ff0000;"> </span><span style="color: #0000ff;">/&gt;</span><span style="color: #000000;"><br />    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item </span><span style="color: #ff0000;">apk:drawable</span><span style="color: #0000ff;">="@drawable/p03"</span><span style="color: #ff0000;"> apk:duration</span><span style="color: #0000ff;">="500"</span><span style="color: #ff0000;"> </span><span style="color: #0000ff;">/&gt;</span><span style="color: #000000;"><br />    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item </span><span style="color: #ff0000;">apk:drawable</span><span style="color: #0000ff;">="@drawable/p04"</span><span style="color: #ff0000;"> apk:duration</span><span style="color: #0000ff;">="500"</span><span style="color: #ff0000;"> </span><span style="color: #0000ff;">/&gt;</span><span style="color: #000000;"><br />    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item </span><span style="color: #ff0000;">apk:drawable</span><span style="color: #0000ff;">="@drawable/p05"</span><span style="color: #ff0000;"> apk:duration</span><span style="color: #0000ff;">="500"</span><span style="color: #ff0000;"> </span><span style="color: #0000ff;">/&gt;</span><span style="color: #000000;"><br />    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">item </span><span style="color: #ff0000;">apk:drawable</span><span style="color: #0000ff;">="@drawable/p06"</span><span style="color: #ff0000;"> apk:duration</span><span style="color: #0000ff;">="500"</span><span style="color: #ff0000;"> </span><span style="color: #0000ff;">/&gt;</span><span style="color: #000000;"><br /></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">animation-list</span><span style="color: #0000ff;">&gt;</span></div></div></p><p>&nbsp;&nbsp;&nbsp; apk:oneshot指示是否只运行一次，设置为false则意味着循环播放。</p><p>3、在res/layout目录下创建layout配置文件dance.xml，文件内容：</p><p><div style="background-color: #F5F5F5;border: 1px solid #CCCCCC;padding:10px;"><div><span style="color: #0000ff;">&lt;?</span><span style="color: #ff00ff;">xml version="1.0" encoding="utf-8"</span><span style="color: #0000ff;">?&gt;</span><span style="color: #000000;"><br /></span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">LinearLayout </span><span style="color: #ff0000;">xmlns:apk</span><span style="color: #0000ff;">="http://schemas.android.com/apk/res/android"</span><span style="color: #ff0000;"> apk:orientation</span><span style="color: #0000ff;">="vertical"</span><span style="color: #ff0000;"> apk:layout_width</span><span style="color: #0000ff;">="fill_parent"</span><span style="color: #ff0000;"> apk:layout_height</span><span style="color: #0000ff;">="fill_parent"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"><br />    </span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> Frame动画图片 </span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br />    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ImageView </span><span style="color: #ff0000;">apk:id</span><span style="color: #0000ff;">="@+id/ImgDance"</span><span style="color: #ff0000;"> apk:layout_width</span><span style="color: #0000ff;">="wrap_content"</span><span style="color: #ff0000;"> apk:layout_height</span><span style="color: #0000ff;">="wrap_content"</span><span style="color: #ff0000;"> apk:background</span><span style="color: #0000ff;">="@anim/dance"</span><span style="color: #ff0000;"> </span><span style="color: #0000ff;">/&gt;</span><span style="color: #000000;"><br />    <br />    </span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;"> 动画控制按钮 </span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br />    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">LinearLayout </span><span style="color: #ff0000;">apk:layout_width</span><span style="color: #0000ff;">="fill_parent"</span><span style="color: #ff0000;"> apk:layout_height</span><span style="color: #0000ff;">="wrap_content"</span><span style="color: #ff0000;"> apk:orientation</span><span style="color: #0000ff;">="horizontal"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"><br />        </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Button </span><span style="color: #ff0000;">apk:text</span><span style="color: #0000ff;">="开始"</span><span style="color: #ff0000;"> apk:layout_width</span><span style="color: #0000ff;">="wrap_content"</span><span style="color: #ff0000;"> apk:layout_height</span><span style="color: #0000ff;">="wrap_content"</span><span style="color: #ff0000;"> apk:onClick</span><span style="color: #0000ff;">="onStartDance"</span><span style="color: #ff0000;"> </span><span style="color: #0000ff;">/&gt;</span><span style="color: #000000;"><br />        </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">Button </span><span style="color: #ff0000;">apk:text</span><span style="color: #0000ff;">="结束"</span><span style="color: #ff0000;"> apk:layout_width</span><span style="color: #0000ff;">="wrap_content"</span><span style="color: #ff0000;"> apk:layout_height</span><span style="color: #0000ff;">="wrap_content"</span><span style="color: #ff0000;"> apk:onClick</span><span style="color: #0000ff;">="onStopDance"</span><span style="color: #ff0000;"> </span><span style="color: #0000ff;">/&gt;</span><span style="color: #000000;"><br />    </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">LinearLayout</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"><br /></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">LinearLayout</span><span style="color: #0000ff;">&gt;</span></div></div></p><p>&nbsp;&nbsp;&nbsp; apk:background使用上面的动画作为背景，意味着要取得动画，只要取得该View的背景即可，当然可以在代码中通过设置背景的方式指定；</p><p>&nbsp;&nbsp;&nbsp; apk:onClick指示按钮的动作，当然可以在代码中通过实现OnClickListener的方式实现。</p><p>4、Activity代码：</p><p><div style="background-color: #F5F5F5;border: 1px solid #CCCCCC;padding:10px;">/**<br/> * Copyright (c) 2004-2011 All Rights Reserved.<br/> */<br/>package com.aboy.android.study.animation;<br/><br/>import android.app.Activity;<br/>import android.graphics.drawable.AnimationDrawable;<br/>import android.os.Bundle;<br/>import android.view.View;<br/>import android.widget.ImageView;<br/><br/>import com.aboy.android.study.R;<br/><br/>/**<br/> * Frame动画<br/> *<br/> * @author obullxl@gmail.com<br/> * @version $Id: FrameActivity.java, v 0.1 2011-6-10 下午12:49:46 oldbulla Exp $<br/> */<br/>public class FrameActivity extends Activity {<br/>    public static final String TAG = "FrameActivity";<br/>    <br/>    // 显示动画的组件<br/>    private ImageView imgDance;<br/>    // Frame动画<br/>    private AnimationDrawable animDance;<br/>    <br/>    /** <br/>     * @see android.app.Activity#onCreate(android.os.Bundle)<br/>     */<br/>    public void onCreate(Bundle cycle) {<br/>        super.onCreate(cycle);<br/>        super.setContentView(R.layout.dance);<br/>        <br/>        // 实例化组件<br/>        this.imgDance = (ImageView) super.findViewById(R.id.ImgDance);<br/>        <br/>        // 获得背景（6个图片形成的动画）<br/>        this.animDance = (AnimationDrawable) this.imgDance.getBackground();<br/>    }<br/>    <br/>    /**<br/>     * 按钮：开始&lsquo;跳舞&rsquo;动画<br/>     */<br/>    public void onStartDance(View view) {<br/>        this.animDance.start();<br/>    }<br/>    <br/>    /**<br/>     * 按钮：停止&lsquo;跳舞&rsquo;动画<br/>     */<br/>    public void onStopDance(View view) {<br/>        this.animDance.stop();<br/>    }<br/>    <br/>}<br/></div></p><p>&nbsp;&nbsp;&nbsp; 代码就那么的几行，运行之后，点击&ldquo;开始&rdquo;按钮后，动画一直不停的播放，直到点击&ldquo;停止&rdquo;为止。&nbsp;</p><img src="http://counter.cnblogs.com/blog/rss/2077955" width="1" height="1" alt=""/><br/><p>本文链接：<a href="http://www.cnblogs.com/obullxl/archive/2011/06/10/android-animation-frame-dance.html" target="_blank">http://www.cnblogs.com/obullxl/archive/2011/06/10/android-animation-frame-dance.html</a>，转载请注明。</p>
					</p>
				</div>
				<div class="entry-ads">
					<script type="text/javascript">
<!--
	google_ad_client = "ca-pub-2548953017344039";
	/* GitIO列表2-728W */
	google_ad_slot = "7323935870";
	google_ad_width = 728;
	google_ad_height = 90;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
				</div>
				
			</div>
			<div class="span4">
				<div class="sidebar">
	<div class="widget">
		<h3>推荐排行榜Top5</h3>
		<ul>
			
			<li><a href="./topic-blog-13.html" rel="bookmark">使用MySQL的LAST_INSERT_ID来确定各分表的唯一ID值 - 老牛啊</a></li>
			
			<li><a href="./topic-blog-17.html" rel="bookmark">Apache与Tomcat集群配置 - 老牛啊</a></li>
			
			<li><a href="./topic-blog-15.html" rel="bookmark">Android动画之Frame动画实战 - 老牛啊</a></li>
			
			<li><a href="./topic-blog-14.html" rel="bookmark">Android动画之Tween动画实战 - 老牛啊</a></li>
			
			<li><a href="./topic-blog-12.html" rel="bookmark">JMS服务器ActiveMQ的初体验并持久化消息到MySQL数据库中 - 老牛啊</a></li>
			
		</ul>
	</div>
	<div class="widget-ads">
		<script type="text/javascript">
<!--
	google_ad_client = "ca-pub-2548953017344039";
	/* GitIO侧边栏-大幅 */
	google_ad_slot = "4370469471";
	google_ad_width = 300;
	google_ad_height = 600;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
	</div>
	<div class="widget">
		<h3>评论排行榜Top5</h3>
		<ul>
			
			<li><a href="./topic-blog-18.html" rel="bookmark">Android源码下载并在Eclipse中方便查看 - 老牛啊</a></li>
			
			<li><a href="./topic-blog-17.html" rel="bookmark">Apache与Tomcat集群配置 - 老牛啊</a></li>
			
			<li><a href="./topic-blog-16.html" rel="bookmark">Android从SDCard中取得图片并设置为桌面背景 - 老牛啊</a></li>
			
			<li><a href="./topic-blog-15.html" rel="bookmark">Android动画之Frame动画实战 - 老牛啊</a></li>
			
			<li><a href="./topic-blog-14.html" rel="bookmark">Android动画之Tween动画实战 - 老牛啊</a></li>
			
		</ul>
	</div>
</div>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
	$(document).ready(function() {
		$("#ufrom").val(window.location.href);
	});
</script>
	<div class="footer">
		<div class="container">
			<div class="row">
				<div id="footer-copyright" class="span6">
					&copy; 2013 <a href="http://obullxl.github.io">obullxl@gmail.com</a>
				</div>
				<div id="footer-terms" class="span6">
					<a href="http://anode.aliapp.com">云博客</a>
					<a href="http://obullxl.cnblogs.com">博客园</a>
					<script type="text/javascript" src="http://js.tongji.linezing.com/3298180/tongji.js"></script><noscript><a href="http://www.linezing.com"><img src="http://img.tongji.linezing.com/3298180/tongji.gif"/></a></noscript>
				</div>
			</div>
		</div>
	</div>
	<!-- /footer -->
</body>
</html>